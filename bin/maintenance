#! /bin/bash

# Clean downloads folder
echo "Cleaning downloads folder..."
find ~/Downloads/ -type f -mtime +10 -exec rm -f {} \;
find ~/Downloads/ -type d -empty -exec rmdir {} \;
mkdir -p ~/Downloads/

rm -rf ~/.tmp
mkdir ~/.tmp

# Backup installed packages
echo "Backing up installed packges..."
~/projects/.home/arch/pacman/backup

# Update with pacman
echo "Cleaning pacman orphans and cache"
trizen -Syu
# Autoremove with pacman
trizen -Rns $(sudo pacman -Qtdq)
# Clear pacman cache
trizen -Scc
# Clear general cache
echo "Clearing general cache"
rm -rf /home/niek/.cache/*

# Push newest versions of scripts and configs to github
cd ~/projects/.home/arch && git add . && git commit -m "Maintenance of `date`" && git push
